<html>
<head>
  <title>【rafiko1】冠军的后处理及伪标签策略</title>
  <basefont face="微软雅黑 Light" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/605766 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑 Light;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="7131"/>
<h1>【rafiko1】冠军的后处理及伪标签策略</h1>

<div>
<span><div><div><div><br/></div><div><a href="https://www.kaggle.com/c/jigsaw-multilingual-toxic-comment-classification/discussion/160986" style="font-size: 18pt; font-weight: bold;">1st place solution: post-processing</a></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">Post-processing: intuition</span></font></div><div>        The intuition of the post-processing is as following: we consider the trend of subsequent submissions of a specific language (e.g. Russian) for each example in the test dataset. If the trend of that example is positive i.e. going up, we nudge the example further in the positive direction. And vice versa - if the trend is negative i.e. going down, we nudge the example further in the negative direction.</div><div><br/></div><div>        We measure the trend by taking the differences of all subsequent submissions for the specific language and averaging those differences. The nudge that we then give to the new submission is based on a predefined weight, typically we choose a weight of 1 or 1.5.</div><div><br/></div><div><span style="font-size: 16pt; font-weight: bold;">Post-processing: pseudo-code</span></div><div>        In an attempt to pseudo-code the technique, given:</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">weight = predefined weight (typically 1 or 1.5)</font></div><div><font style="font-size: 12pt;">pred_best = current best predictions on LB</font></div><div><font style="font-size: 12pt;">diff_avg = average of differences of consecutive subs (trend)</font></div></div><div><br/></div><div>        Then for each example in test of the specific language (e.g. Turkish):</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">if diff_avg &lt; 0: # negative trend</font></div><div><font style="font-size: 12pt;">    pred_new = (1 + weight * diff_avg) * pred_best # nudge downwards</font></div><div><font style="font-size: 12pt;">else: # positive trend</font></div><div><font style="font-size: 12pt;">    pred_new = (1 - weight * diff_avg) * pred_best + diff_avg # nudge upwards</font></div></div><div>        Note: I'm not an expert on PP, so I assume this technique can be further optimized. The boost we got from it was relatively small (albeit significant) compared to the other methods we implemented.</div><div><br/></div><div><br/></div><div><br/></div><div><a href="https://www.kaggle.com/rafiko1/1st-place-jigsaw-post-processing-example/data?select=ru-9397.csv" style="font-size: 18pt; font-weight: bold;">1st place Jigsaw: Post-processing example</a></div><div>versions：1</div><div style="text-align: center;"><a href="【rafiko1】冠军的后处理及伪标签策略_files/1st-place-jigsaw-post-processing-example.ipynb"><img src="【rafiko1】冠军的后处理及伪标签策略_files/048b889a512b49b0026e6c758f138359.png" alt="1st-place-jigsaw-post-processing-example.ipynb"></a></div><div>        代码实现跟上面的公式竟然是一样的，我哭了。原文从【public 0.9549、private 0.9532】提升到了【public 0.9550、private 0.9533】</div><div><br/></div><div>        之后我也分别尝试了：</div><ul><ul><li><div>将weight从1变成2，从【public 0.9549、private 0.9532】变成【public 0.9550、private 0.9532】</div></li><li><div>将weight从1变成0.5，从【public 0.9549、private 0.9532】变成【public 0.9550、private 0.9532】</div></li><li><div>在 x[&quot;diff_avg&quot;]&gt;=0 时按 (1+WEIGHT*x[&quot;diff_avg&quot;])*x[&quot;sub_best&quot;] 变换，从【public 0.9549、private 0.9532】变成【public 0.9550、private 0.9532】</div></li><li><div>在 <span style="font-size: medium; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">x[&quot;diff_avg&quot;]&lt;0 时按 </span>(1-WEIGHT*x[&quot;diff_avg&quot;])*x[&quot;sub_best&quot;] + WEIGHT*x[&quot;diff_avg&quot;] 变换，从【public 0.9549、private 0.9532】变成【public 0.9550、private 0.9532】</div></li><li><div>直接按 x[&quot;sub_best&quot;] + WEIGHT*x[&quot;diff_avg&quot;] 变换，从【public 0.9549、private 0.9532】变成【public 0.9550、private 0.9532】</div></li></ul></ul><div><br/></div><div>        都无法像原文中那样提高，我大概率推测是作者他们调参调出来的方案，不具备普适性。</div><div><br/></div><div><br/></div><div><br/></div><div><a href="https://www.kaggle.com/rafiko1/1st-place-baseline-xlm-r-es-it-tr" style="font-size: 18pt; font-weight: bold;">1st place baseline: XLM-R es/it/tr</a></div><div>versions：1</div><div style="text-align: center;"><a href="【rafiko1】冠军的后处理及伪标签策略_files/1st-place-baseline-xlm-r-es-it-tr.ipynb"><img src="【rafiko1】冠军的后处理及伪标签策略_files/a01f5b0f1a38997c4c230ad582d8e1ab.png" alt="1st-place-baseline-xlm-r-es-it-tr.ipynb"></a></div><div>        <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">一个非常全面的tf2 TPU Baseline 代码。</span></div><div>        下面的流程描述是我对该代码加了伪标签的改动版，与上面代码略有不同。</div><div><br/></div><div>        stage1：3epochs（将3个epochs分解成了30个小epochs）</div><div style="margin-left: 80px;">train：balanced( shuffle( train_es + test9500_es * 6 ) )（此处的test9500_es为软标签，balanced比例为80%负样本、20%正样本）</div><div style="margin-left: 80px;">valid：valid_es</div><div style="margin-left: 80px;">test：test_es</div><div style="margin-left: 40px;">在小epochs&gt;10之后，每当test上的valid_AUC&gt;best_valid_AUC，就预测一个test且保存模型，最后将这些预测的test求平均。</div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;">stage2加载stage1中valid_AUC最好的模型。</div><div>        stage2：3epochs（将3个epochs分解成了30个小epochs）</div><div style="margin-left: 80px;"><span style="font-size: unset; color: unset; font-family: unset;">train：valid_es</span></div><div style="margin-left: 80px;"><span style="font-size: unset; color: unset; font-family: unset;">test：test_es</span></div><div>        在小epochs&gt;10之后，每个epoch预测一个test且保存模型，最后将这些预测的test求平均。（不设验证集）</div><div><br/></div><div>        两个stage的模型都是采用二分类常见的交叉熵损失函数，普通bert模型结构，Adam优化，seq len 192，batch_size 156，学习率 3e-6。</div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">我的尝试</span></div><div>        对上述第一名的代码进行如下修改，然后用模型预测出来的 test_es 替换掉 test9500.csv 中的 test_es，提交并统计得分。</div><div><br/></div><div>        伪标签（PL）本身提交：<span style="font-weight: bold;">public 0.95；private 0.9485</span></div><div>        原始PL策略相对原始代码改动如下：</div><ul><ul><li><div>MODEL = 'dccuchile/bert-base-spanish-wwm-uncased'</div></li><li><div>BERT_MODEL = True</div></li><li><div>REPEAT_PL = 6</div></li></ul></ul><div style="margin-left: 40px;">改动后PL <span style="font-weight: bold;">策略1 </span>相对原始代码改动如下：</div><ul style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px 0px 0px 40px; border: 1px solid transparent; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><ul><li style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; border: 1px solid transparent;"><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">MODEL = 'dccuchile/bert-base-spanish-wwm-uncased'</span></div></li><li><div><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">BERT_MODEL = True</span></div></li><li><div><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL = 6</span></div></li><li><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">将打上标记的 test_es *</span> <span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL </span><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">从 stage1 的 train 中挪到 stage2 的 train 中</span></div></li></ul></ul><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 40px; padding: 0px;"><span style="color: unset; font-family: unset;">改动后PL </span><span style="color: unset; font-family: unset; font-weight: bold;">策略2 </span><span style="color: unset; font-family: unset;">相对原始代码改动如下：</span></div><ul style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px 0px 0px 40px; border: 1px solid transparent; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><ul><li style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; border: 1px solid transparent;"><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">MODEL = 'dccuchile/bert-base-spanish-wwm-uncased'</span></div></li><li><div><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">BERT_MODEL = True</span></div></li><li><div><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL = 1</span></div></li><li><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">将打上标记的 test_es *</span> <span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL </span><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">从 stage1 的 train 中挪到 stage2 的 train 中</span></div></li></ul></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 83px;"></col><col style="width: 117px;"></col><col style="width: 115px;"></col><col style="width: 114px;"></col><col style="width: 112px;"></col><col style="width: 116px;"></col><col style="width: 113px;"></col><col style="width: 100px;"></col><col style="width: 94px;"></col><col style="width: 104px;"></col></colgroup><tbody><tr><td style="width: 83px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><br/></div></td><td style="width: 117px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 115px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 114px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 112px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 116px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 113px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 100px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策2</div></td><td style="width: 94px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策2</div></td><td style="width: 104px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策2</div></td></tr><tr><td style="width: 83px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 117px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 115px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 114px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td><td style="width: 112px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 116px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 113px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td><td style="width: 100px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stg1 final</div></td><td style="width: 94px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stg1 avg</div></td><td style="width: 104px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stg2 avg</div></td></tr><tr><td style="width: 83px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 117px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9483</div></td><td style="width: 115px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9487</div></td><td style="width: 114px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9485</div></td><td style="width: 112px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9491</div></td><td style="width: 116px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9494</div></td><td style="width: 113px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9505</div></td><td style="width: 100px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9491</div></td><td style="width: 94px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9497</div></td><td style="width: 104px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9500</div></td></tr><tr><td style="width: 83px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 117px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9466</div></td><td style="width: 115px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9469</div></td><td style="width: 114px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9465</div></td><td style="width: 112px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9475</div></td><td style="width: 116px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9479</div></td><td style="width: 113px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9492</div></td><td style="width: 100px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9476</div></td><td style="width: 94px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9482</div></td><td style="width: 104px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9487</div></td></tr></tbody></table><div style="text-align: center;">西班牙语版本</div><div style="text-align: center;"><br/></div><div>        伪标签（PL）本身提交：public 0.95；private 0.9485</div><div>        原始PL策略相对原始代码改动如下：</div><ul><ul><li><div>REPEAT_PL = 6</div></li></ul></ul><div>        改动后PL <span style="font-weight: bold;">策略1</span> 相对原始代码改动如下：</div><ul style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px 0px 0px 40px; border: 1px solid transparent; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><ul><li style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; border: 1px solid transparent;"><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL = 6</span></div></li><li><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px;"><span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">将打上标记的 test_es * REPEAT_PL 从 stage1 的 train 中挪到 stage2 的 train 中</span></div></li></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 149px;"></col><col style="width: 148px;"></col><col style="width: 144px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">原始PL策略</div></td><td style="width: 149px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="text-align: center; width: 148px; padding: 8px; border: 1px solid;"><div>改后策1</div></td><td style="text-align: center; width: 144px; padding: 8px; border: 1px solid;"><div>改后策1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td><td style="text-align: center; width: 149px; padding: 8px; border: 1px solid;">stage1 final</td><td style="width: 148px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 144px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9495</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9500</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9491</div></td><td style="width: 149px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9489</div></td><td style="width: 148px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9499</div></td><td style="width: 144px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9502</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9480</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9486</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9478</div></td><td style="width: 149px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9471</div></td><td style="width: 148px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9483</div></td><td style="width: 144px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9490</div></td></tr></tbody></table><div style="text-align: center;">多语言版本</div><div style="text-align: center;"><br/></div><div>        可以发现使用原始策略时，从stage1到stage2有着非常明显的遗忘现象；而这种遗忘可以通过改动后的PL策略来进行纠正。</div></div><div>        此外，作者把每个大Epoch分解成多个小epoch，比如从3个大Epoch分解成了30个小epoch，然后在epoch大于10且valid_es AUC大于best_valid_es_AUC时预测test_es，最后将预测的test_es进行平均，从表格中的数据可以发现，该策略获得了不错的效果。</div><div>        至于为什么原始PL策略时，西班牙语bert模型没有多语言xlm-roberta模型效果好，而改动PL策略后西班牙语bert模型又比多语言xlm-roberta模型效果好，还不清楚原因。</div><div>        在train增加伪标签样本的数量（<span style="font-size: medium; color: rgb(0, 0, 0); font-family: &quot;微软雅黑 Light&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">REPEAT_PL=6</span>）也是有帮助的。</div><div><br/></div></div><div>        使用其他语言的单语言模型：</div><ul><ul><li><div>v11：策略1，模型选用 spanish 上的 xlm-roberta 模型（ xlm-roberta-large-finetuned-conll02-spanish ）</div></li></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9381</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9419</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9491</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9370</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9404</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9472</div></td></tr></tbody></table><div><br/></div></div><ul><ul><li><div>v12：策略1，模型选用 turkish 上的 bert-base 模型（ dbmdz/bert-base-turkish-cased ）</div></li></ul></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9477</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9473</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9500</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9462</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9460</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9483</div></td></tr></tbody></table><div><br/></div><ul><ul><li><div>v13：策略1，模型选用 turkish 上更大的 bert-base 模型（ dbmdz/bert-base-turkish-128k-cased ）</div></li></ul></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9463</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9466</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9502</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9447</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9451</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9483</div></td></tr></tbody></table><div><br/></div><ul><ul><li><div>v14：策略1，模型选用 italian 上的 bert-base 模型（ dbmdz/bert-base-italian-uncased ）</div></li></ul></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9429</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9422</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9480</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9421</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9413</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9468</div></td></tr></tbody></table><div><br/></div><ul><ul><li><div>v15：策略1，模型选用 italian 上更大的 bert-base 模型（ dbmdz/bert-base-italian-xxl-uncased ）</div></li></ul></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">改后策略1</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">阶段</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 final</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage1 avg</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">stage2 avg</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">public</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9439</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9435</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9488</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">private</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9430</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9425</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">0.9475</div></td></tr></tbody></table><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 